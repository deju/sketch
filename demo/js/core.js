/*!
 * Author: imqiqiboyi@gmail.com
 * Date: 2014-12-29 15:09:37
 *
 * include "createClass.js"
 * include "storage.js"
 * include "jpromise.js"
 * include "sketch.js"
 * include "zepto.min.js"
 * include "common.js"
 */
!function(a,d,f){function m(a,b){for(var g=0,c=a.length,q=[],k;g<c;g++)"undefined"!==typeof(k=b(a[g]))&&q.push(k);return q}function r(){var a=arguments.length-1,b=arguments[a],g=arguments[0]||{},c=typeof g,q=1,k,d;"boolean"!==typeof b&&(b=!1,a++);for("object"!=c&&"function"!=c&&(g={});q<a;q++)if(null!=(c=arguments[q]))for(k in c)d=g[k],copy=c[k],g!==copy&&(g[k]=b&&"object"==typeof copy&&null!=copy?r("object"==typeof d&&null!=d?d:"[object Array]"=={}.toString.call(copy)?[]:{},copy,b):copy);return g}
function c(a,b){var g="function"==typeof a;return g==("function"==typeof b)?0:g?-1:1}function q(){}var k=a[d]=function(){function a(b){g.apply(this,b)}function b(){return new a(arguments)}var g=arguments[0],d=[].slice.call(arguments,"function"==typeof g&&!function(a){for(a in g.prototype)return!0}()?1:(g=q,0)),p=[],f={_self:g,_super:function(){p[0]&&(p[0].prototype._self||p[0]).apply(this,arguments)},extend:function(){var a=this;return r.apply(null,(this===f?[]:[this]).concat(m([{constructor:b}].concat([].slice.call(arguments,
0),f).sort(c),function(b){"function"==typeof b&&!a.isInstanceof(b)&&p.push(b);"function"==typeof b&&(q.prototype=b.prototype,b=new q);return b})))},isInstanceof:function(a){var b;if(!(b=this instanceof a))a:{for(var g=0,c=p.length;g<c;g++)if(b=p[g].prototype.isInstanceof,p[g]===a||b&&b.call(this,a)){b=!0;break a}b=!1}return b}};a.prototype=b.fn=b.prototype=f.extend.apply(f,d);b.extend=function(){return k.apply(null,[].slice.call(arguments,0).concat(this))};return b}}(window,"createClass");(function(a,d,f,m){var r=a.document,c=a.localStorage||a.globalStorage&&a.globalStorage[location.hostname];d.prototype=d;var q=function(a,b){return(c?{length:0,init:function(){this.name=a?a+"/":"";this.getStorages();return this},getStorages:function(){for(var a=this.storages={},b=this.keys=[],q=0,k=c.length,d,w,r=RegExp("^"+this.name.replace(/([\.\?\+\*\[\]\(\)\^\$\/\|\\])/g,"\\$1"),"i");q<k;q++)d=c.key(q),r.test(d)&&(w=d.replace(r,""),b.push(w),a[w]=c.getItem(d));this.length=b.length;return this},
key:function(a){return this.keys[a]},getItem:function(a){return this.storages[a]},setItem:function(a,b){c.setItem(this.name+a,b);return this.getStorages()},removeItem:function(a){c.removeItem(this.name+a);return this.getStorages()},clear:function(){if(this.name)for(var a=this.length,b=0;b++<a;)this.removeItem(this.key(0));else c.clear();return this.getStorages()}}:{length:0,userData:b||r.getElementsByTagName("head")[0],init:function(){this.name=a?"_"+a:"";try{this.userData.addBehavior("#default#userdata"),
this.refresh()}catch(b){}return this},load:function(){try{this.userData.load("oXMLBranch"+this.name),this.storeNode=this.userData.xmlDocument.firstChild}catch(a){}},refresh:function(){this.load();this.length=this.storeNode.attributes.length;return this},key:function(a){this.load();return this.storeNode.attributes[a].nodeName.replace(/^_/,"")},getItem:function(a){this.load();return this.userData.getAttribute("_"+a)},setItem:function(a,b){this.load();this.userData.setAttribute("_"+a,b);return this.save()},
removeItem:function(a){this.load();this.userData.removeAttribute("_"+a);return this.save()},clear:function(){this.load();this.userData.xmlDocument.removeChild(this.storeNode);return this.save()},save:function(){this.userData.save("oXMLBranch"+this.name);return this.refresh()}}).init()},k;m={version:"2.4",constructor:d,init:function(a,b){"string"!=typeof a&&(b=a,a="");this.storage=q(a,b);return this.test()},test:function(){try{this.support=this.set("__storage__",1)&&this.remove("__storage__")}catch(a){this.support=
!1}return this},refresh:function(){this.storages=this.getStorages();return this},has:function(a){return null!=this.get(a)},get:function(a){return this.storages[a]},set:function(a,b){this.storage.setItem(a,b);return this.refresh().has(a)},remove:function(a){this.storage.removeItem(a);return!this.refresh().has(a)},clear:function(){this.storage.clear();return!this.refresh().size()},size:function(){return this.storage.length},getStorages:function(){for(var a={},b=this.storage,c=0,q=b&&b.length||0,k;c<
q;c++)k=b.key(c),a[k]=b.getItem(k);return a},key:function(a){return this.storage.key(a)}};for(k in m)d[k]=m[k];return a[f]=d.init()})(window,function(a,d){if(!(this instanceof arguments.callee))return new arguments.callee(a,d);this.init(a,d)},"storage");(function(a,d,f){"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var c=this;return function(){return c.apply(a,arguments)}});"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(a){for(var c=0,d=this.length,b;c<d;c++)b=this[c],"undefined"!=typeof b&&a(b,c,this)});var m={resolved:"resolve",rejected:"reject",pending:"notify"},r=[].slice,c={}.toString;d.prototype={constructor:d,state:"pending",on:function(a,c){this.handles[a]||(this.handles[a]=
[]);"function"==typeof c&&this.handles[a].push(c);return this},fire:function(a){var c=this.args||[],d=this.handles[a]||[];if("notify"==a)d.forEach(function(a){a.apply(null,c)});else for(;d.length;)d.shift().apply(null,c);return this},then:function(){var a=new d,c=arguments;["resolve","reject","notify"].forEach(function(d,b){this.on(d,function(){var g=r.call(arguments),l;if("function"==typeof c[b]){try{l=c[b].apply(null,g),1==b&&(d="resolve")}catch(p){d="reject",l=p}g=[l]}a[d].apply(a,g)})}.bind(this));
switch(this.state){case "resolved":case "rejected":this.fire(m[this.state])}return a},chain:function(a){return this.then(function(){a.resolve.apply(a,arguments)},function(){a.reject.apply(a,arguments)},function(){a.notify.apply(a,arguments)})},delay:function(a){return this.always(function(){var c=arguments;return d(function(d){setTimeout(function(){d.apply(null,c)},a)})})},"catch":function(a){return this.then(null,a)},done:function(a){return this.then(a)},fail:function(a){return this.then(null,a)},
always:function(a){return this.then(a,a)},progress:function(a){return this.then(null,null,a)},deferred:function(){return this},promise:function(){var a=this,c={};["then","catch","progress"].forEach(function(d){c[d]=function(){return a[d].apply(a,arguments).promise()}});return c}};["defer","promise"].forEach(function(a){d[a]=function w(b){if(this instanceof w)throw new TypeError(a+" is not a constructor");return this(b)[a]()}});["resolved","rejected","pending"].forEach(function(a){var c=m[a];d[c]=
function(){var a=new this;return a[c].apply(a,arguments)};d.prototype[c]=function(d){"pending"==this.state&&("function"==typeof(d&&d.then)?this.chain.call(d,this):(this.state=a,this.args=r.call(arguments),this.fire(c)));return this}});"when all every any some race".split(" ").forEach(function(a){var k=d[a]=function(){var f=r.call(arguments),b=[],g=[],l=f.length,p=0;return d(function(m,B,u){f.length?f.forEach(function(f,n){var e="[object Array]"==c.call(f),w,A;e?f=k.apply(null,f).progress(u):f.always(u);
f=d.resolve(f);switch(a){case "any":w=m;A=function(a){g[n]=e?r.call(arguments):a;l==++p&&B.apply(null,g)};break;case "some":w=function(a){b.push(e?r.call(arguments):a);l==++p&&m.apply(null,b)};A=function(a){g.push(e?r.call(arguments):a);l==++p&&(b.length?m.apply(null,b):B.apply(null,g))};break;case "race":w=A=m;break;default:w=function(a){b[n]=e?r.call(arguments):a;l==++p&&m.apply(null,b)},A=B}f.then(w,A)}):m()})};d.prototype[a]=function(){return k.apply(null,arguments).chain(this)}});a.JPromise=
d})(window,function(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);this.handles={};"function"==typeof a&&a(this.resolve.bind(this),this.reject.bind(this),this.notify.bind(this))});(function(a,d,f){"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var c=this;return function(){return c.apply(a,arguments)}});var m="PointerEvent"in a?"pointerdown pointermove pointerup pointercancel":"createTouch"in a.document||"ontouchstart"in a?"touchstart touchmove touchend touchcancel":"mousedown mousemove mouseup";d.prototype={constructor:d,lineWidth:5,color:"#000",erase:!1,bgcolor:"transparent",init:function(a){this.events={};this.actions=[];this.ctx=this.canvas.getContext("2d");
"object"==typeof a&&["width","height","lineWidth","color","bgcolor"].forEach(function(c){this[c]="undefined"==typeof a[c]?this[c]:a[c]}.bind(this));m.split(" ").forEach(function(a){this.canvas.addEventListener(a,this,!1)}.bind(this));this.on({start:function(){this.actions.push({width:this.lineWidth,color:this.color,erase:this.erase,pens:[arguments]})},move:function(){var a=this.actions[this.steps-1];a.pens.push(arguments);this.draw({width:a.width,color:a.color,erase:a.erase,pens:a.pens.slice(-2)})},
end:function(){2>this.actions[this.steps-1].pens.length&&this.actions.pop()},redraw:function(){var a=this.ctx;"transparent"!=this.bgcolor&&(a.fillStyle=this.bgcolor,a.fillRect(0,0,this.width,this.height))}}).clear()},handleEvent:function(a){var c=a.clientX||0,d=a.clientY||0,k=this.canvas.getBoundingClientRect();if(a.touches&&a.touches.length){if(1<a.touches.length)return;c=a.touches.item(0).clientX;d=a.touches.item(0).clientY}c-=k.left;d-=k.top;c*=this.width/k.width;d*=this.height/k.height;switch(a.type.toLowerCase()){case "mousedown":case "touchstart":case "pointerdown":this.moving=
!0;this.fire("start",c,d);break;case "mousemove":case "touchmove":case "pointermove":this.moving&&(a.preventDefault(),this.fire("move",c,d));break;case "mouseup":case "touchend":case "touchcancel":case "pointerup":case "pointercancel":this.moving&&(delete this.moving,this.fire("end"))}},on:function(a,c){"object"==typeof a?Object.keys(a).forEach(function(c){this.on(c,a[c])}.bind(this)):(this.events[a]||(this.events[a]=[]),this.events[a].push(c));return this},fire:function(a){var c=[].slice.call(arguments,
1);(this.events[a]||[]).forEach(function(a){"function"==typeof a&&a.apply(this,c)}.bind(this));return this},draw:function(a){var c=this.ctx;c.lineWidth=a.width;c.lineJoin=c.lineCap="round";a.erase?(c.strokeStyle="#000",c.globalCompositeOperation="destination-out"):(c.globalCompositeOperation="source-over",c.strokeStyle=a.color);c.beginPath();a.pens.forEach(function(a,d){c[d?"lineTo":"moveTo"].apply(c,a)});c.stroke();return this},reDraw:function(){this.ctx.clearRect(0,0,this.width,this.height);this.fire("redraw");
this.actions.forEach(this.draw.bind(this));return this},cancel:function(a){this.actions.splice(-(a||1));return this.reDraw()},clear:function(){this.actions.length=0;return this.reDraw()},toDataUrl:function(a){return this.canvas.toDataURL(a)},toBlob:function(){return(this.canvas.toBlob||function(d,c){if("mozGetAsFile"in this)return d(this.mozGetAsFile("blob",c));var f=this.toDataURL(c).split(","),k=a.atob(f[1]),m=new Uint8Array(k.length),b,g;b=0;for(g=m.length;b<g;b++)m[b]=k.charCodeAt(b);d(new Blob([m.buffer],
{type:c||f[0].split(/[:;]/)[1]}))}).apply(this.canvas,arguments)}};"function"==typeof Object.defineProperties&&(["width","height"].forEach(function(a){Object.defineProperty(d.prototype,a,{get:function(){return this.canvas[a]},set:function(c){this.canvas[a]=c},enumerable:!0})}),Object.defineProperty(d.prototype,"steps",{get:function(){return this.actions.length},enumerable:!0}));a.Sketch=d})(window,function(a,d){if(!(this instanceof arguments.callee))return new arguments.callee(a,d);this.canvas="string"==
typeof a?document.getElementById(a):a;this.init(d)});var Zepto=function(){function a(a){return null==a?String(a):M[S.call(a)]||"object"}function d(F){return"function"==a(F)}function f(a){return null!=a&&a==a.window}function m(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function r(F){return"object"==a(F)}function c(a){return r(a)&&!f(a)&&Object.getPrototypeOf(a)==Object.prototype}function q(a){return D.call(a,function(a){return null!=a})}function k(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,
"$1_$2").replace(/_/g,"-").toLowerCase()}function w(a){return a in s?s[a]:s[a]=RegExp("(^|\\s)"+a+"(\\s|$)")}function b(a){return"children"in a?C.call(a.children):e.map(a.childNodes,function(a){if(1==a.nodeType)return a})}function g(a,b,h){for(n in b)h&&(c(b[n])||I(b[n]))?(c(b[n])&&!c(a[n])&&(a[n]={}),I(b[n])&&!I(a[n])&&(a[n]=[]),g(a[n],b[n],h)):b[n]!==t&&(a[n]=b[n])}function l(a,b){return null==b?e(a):e(a).filter(b)}function p(a,b,c,h){return d(b)?b.call(a,c,h):b}function z(a,b){var c=a.className||
"",h=c&&c.baseVal!==t;if(b===t)return h?c.baseVal:c;h?c.baseVal=b:a.className=b}function B(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:!/^0/.test(a)&&!isNaN(b=Number(a))?b:/^[\[\{]/.test(a)?e.parseJSON(a):a):a}catch(c){return a}}function u(a,b){b(a);for(var c=0,h=a.childNodes.length;c<h;c++)u(a.childNodes[c],b)}var t,n,e,E,A=[],C=A.slice,D=A.filter,x=window.document,h={},s={},G={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},H=/^\s*<(\w+|!)[^>]*>/,
J=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,T=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,O=/^(?:body|html)$/i,v=/([A-Z])/g,U="val css html text data width height offset".split(" "),N=x.createElement("table"),P=x.createElement("tr"),Q={tr:x.createElement("tbody"),tbody:N,thead:N,tfoot:N,td:P,th:P,"*":x.createElement("div")},V=/complete|loaded|interactive/,W=/^[\w-]*$/,M={},S=M.toString,y={},K,L,R=x.createElement("div"),X={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",
maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},I=Array.isArray||function(a){return a instanceof Array};y.matches=function(a,b){if(!b||!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var h;h=a.parentNode;(c=!h)&&(h=R).appendChild(a);h=~y.qsa(h,b).indexOf(a);c&&R.removeChild(a);
return h};K=function(a){return a.replace(/-+(.)?/g,function(a,F){return F?F.toUpperCase():""})};L=function(a){return D.call(a,function(b,c){return a.indexOf(b)==c})};y.fragment=function(a,b,h){var d,s,g;J.test(a)&&(d=e(x.createElement(RegExp.$1)));d||(a.replace&&(a=a.replace(T,"<$1></$2>")),b===t&&(b=H.test(a)&&RegExp.$1),b in Q||(b="*"),g=Q[b],g.innerHTML=""+a,d=e.each(C.call(g.childNodes),function(){g.removeChild(this)}));c(h)&&(s=e(d),e.each(h,function(a,F){if(-1<U.indexOf(a))s[a](F);else s.attr(a,
F)}));return d};y.Z=function(a,b){a=a||[];a.__proto__=e.fn;a.selector=b||"";return a};y.isZ=function(a){return a instanceof y.Z};y.init=function(a,b){var c;if(a)if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&H.test(a))c=y.fragment(a,RegExp.$1,b),a=null;else{if(b!==t)return e(b).find(a);c=y.qsa(x,a)}else{if(d(a))return e(x).ready(a);if(y.isZ(a))return a;if(I(a))c=q(a);else if(r(a))c=[a],a=null;else if(H.test(a))c=y.fragment(a.trim(),RegExp.$1,b),a=null;else{if(b!==t)return e(b).find(a);c=y.qsa(x,a)}}else return y.Z();
return y.Z(c,a)};e=function(a,b){return y.init(a,b)};e.extend=function(a){var b,c=C.call(arguments,1);"boolean"==typeof a&&(b=a,a=c.shift());c.forEach(function(c){g(a,c,b)});return a};y.qsa=function(a,b){var c,h="#"==b[0],d=!h&&"."==b[0],s=h||d?b.slice(1):b,g=W.test(s);return m(a)&&g&&h?(c=a.getElementById(s))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:C.call(g&&!h?d?a.getElementsByClassName(s):a.getElementsByTagName(b):a.querySelectorAll(b))};e.contains=x.documentElement.contains?function(a,b){return a!==
b&&a.contains(b)}:function(a,b){for(;b&&(b=b.parentNode);)if(b===a)return!0;return!1};e.type=a;e.isFunction=d;e.isWindow=f;e.isArray=I;e.isPlainObject=c;e.isEmptyObject=function(a){for(var b in a)return!1;return!0};e.inArray=function(a,b,c){return A.indexOf.call(b,a,c)};e.camelCase=K;e.trim=function(a){return null==a?"":String.prototype.trim.call(a)};e.uuid=0;e.support={};e.expr={};e.map=function(a,b){var c,h=[],d;if("number"==typeof a.length)for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&h.push(c);
else for(d in a)c=b(a[d],d),null!=c&&h.push(c);return 0<h.length?e.fn.concat.apply([],h):h};e.each=function(a,b){var c;if("number"==typeof a.length)for(c=0;c<a.length&&!1!==b.call(a[c],c,a[c]);c++);else for(c in a)if(!1===b.call(a[c],c,a[c]))break;return a};e.grep=function(a,b){return D.call(a,b)};window.JSON&&(e.parseJSON=JSON.parse);e.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){M["[object "+b+"]"]=b.toLowerCase()});e.fn={forEach:A.forEach,reduce:A.reduce,
push:A.push,sort:A.sort,indexOf:A.indexOf,concat:A.concat,map:function(a){return e(e.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return e(C.apply(this,arguments))},ready:function(a){V.test(x.readyState)&&x.body?a(e):x.addEventListener("DOMContentLoaded",function(){a(e)},!1);return this},get:function(a){return a===t?C.call(this):this[0<=a?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=
this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){A.every.call(this,function(b,c){return!1!==a.call(b,c,b)});return this},filter:function(a){return d(a)?this.not(this.not(a)):e(D.call(this,function(b){return y.matches(b,a)}))},add:function(a,b){return e(L(this.concat(e(a,b))))},is:function(a){return 0<this.length&&y.matches(this[0],a)},not:function(a){var b=[];if(d(a)&&a.call!==t)this.each(function(c){a.call(this,c)||b.push(this)});else{var c="string"==typeof a?this.filter(a):
"number"==typeof a.length&&d(a.item)?C.call(a):e(a);this.forEach(function(a){0>c.indexOf(a)&&b.push(a)})}return e(b)},has:function(a){return this.filter(function(){return r(a)?e.contains(this,a):e(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!r(a)?a:e(a)},last:function(){var a=this[this.length-1];return a&&!r(a)?a:e(a)},find:function(a){var b=this;return a?"object"==typeof a?e(a).filter(function(){var a=this;return A.some.call(b,
function(b){return e.contains(b,a)})}):1==this.length?e(y.qsa(this[0],a)):this.map(function(){return y.qsa(this,a)}):[]},closest:function(a,b){var c=this[0],h=!1;for("object"==typeof a&&(h=e(a));c&&!(h?0<=h.indexOf(c):y.matches(c,a));)c=c!==b&&!m(c)&&c.parentNode;return e(c)},parents:function(a){for(var b=[],c=this;0<c.length;)c=e.map(c,function(a){if((a=a.parentNode)&&!m(a)&&0>b.indexOf(a))return b.push(a),a});return l(b,a)},parent:function(a){return l(L(this.pluck("parentNode")),a)},children:function(a){return l(this.map(function(){return b(this)}),
a)},contents:function(){return this.map(function(){return C.call(this.childNodes)})},siblings:function(a){return l(this.map(function(a,c){return D.call(b(c.parentNode),function(a){return a!==c})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return e.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display="");if("none"==getComputedStyle(this,"").getPropertyValue("display")){var a=this.style,
b=this.nodeName,c,d;h[b]||(c=x.createElement(b),x.body.appendChild(c),d=getComputedStyle(c,"").getPropertyValue("display"),c.parentNode.removeChild(c),"none"==d&&(d="block"),h[b]=d);a.display=h[b]}})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var b=d(a);if(this[0]&&!b)var c=e(a).get(0),h=c.parentNode||1<this.length;return this.each(function(d){e(this).wrapAll(b?a.call(this,d):h?c.cloneNode(!0):c)})},wrapAll:function(a){if(this[0]){e(this[0]).before(a=e(a));for(var b;(b=
a.children()).length;)a=b.first();e(a).append(this)}return this},wrapInner:function(a){var b=d(a);return this.each(function(c){var h=e(this),d=h.contents();c=b?a.call(this,c):a;d.length?d.wrapAll(c):h.append(c)})},unwrap:function(){this.parent().each(function(){e(this).replaceWith(e(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=e(this);
(a===t?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return e(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return e(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0 in arguments?this.each(function(b){var c=this.innerHTML;e(this).empty().append(p(this,a,b,c))}):0 in this?this[0].innerHTML:null},text:function(a){return 0 in arguments?this.each(function(b){b=p(this,a,b,this.textContent);this.textContent=null==b?"":""+b}):0 in this?
this[0].textContent:null},attr:function(a,b){var c;return"string"==typeof a&&!(1 in arguments)?!this.length||1!==this[0].nodeType?t:!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:this.each(function(c){if(1===this.nodeType)if(r(a))for(n in a){var h=n;c=a[n];null==c?this.removeAttribute(h):this.setAttribute(h,c)}else h=a,c=p(this,b,c,this.getAttribute(a)),null==c?this.removeAttribute(h):this.setAttribute(h,c)})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&this.removeAttribute(a)})},
prop:function(a,b){a=X[a]||a;return 1 in arguments?this.each(function(c){this[a]=p(this,b,c,this[a])}):this[0]&&this[0][a]},data:function(a,b){var c="data-"+a.replace(v,"-$1").toLowerCase(),c=1 in arguments?this.attr(c,b):this.attr(c);return null!==c?B(c):t},val:function(a){return 0 in arguments?this.each(function(b){this.value=p(this,a,b,this.value)}):this[0]&&(this[0].multiple?e(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(a){if(a)return this.each(function(b){var c=
e(this);b=p(this,a,b,c.offset());var h=c.offsetParent().offset();b={top:b.top-h.top,left:b.left-h.left};"static"==c.css("position")&&(b.position="relative");c.css(b)});if(!this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(2>arguments.length){var h=this[0],d=getComputedStyle(h,"");if(!h)return;if("string"==typeof b)return h.style[K(b)]||d.getPropertyValue(b);
if(I(b)){var s={};e.each(b,function(a,b){s[b]=h.style[K(b)]||d.getPropertyValue(b)});return s}}var g="";if("string"==a(b))!c&&0!==c?this.each(function(){this.style.removeProperty(k(b))}):g=k(b)+":"+("number"==typeof c&&!G[k(b)]?c+"px":c);else for(n in b)!b[n]&&0!==b[n]?this.each(function(){this.style.removeProperty(k(n))}):g+=k(n)+":"+("number"==typeof b[n]&&!G[k(n)]?b[n]+"px":b[n])+";";return this.each(function(){this.style.cssText+=";"+g})},index:function(a){return a?this.indexOf(e(a)[0]):this.parent().children().indexOf(this[0])},
hasClass:function(a){return!a?!1:A.some.call(this,function(a){return this.test(z(a))},w(a))},addClass:function(a){return!a?this:this.each(function(b){if("className"in this){E=[];var c=z(this);p(this,a,b,c).split(/\s+/g).forEach(function(a){e(this).hasClass(a)||E.push(a)},this);E.length&&z(this,c+(c?" ":"")+E.join(" "))}})},removeClass:function(a){return this.each(function(b){if("className"in this){if(a===t)return z(this,"");E=z(this);p(this,a,b,E).split(/\s+/g).forEach(function(a){E=E.replace(w(a),
" ")});z(this,E.trim())}})},toggleClass:function(a,b){return!a?this:this.each(function(c){var h=e(this);p(this,a,c,z(this)).split(/\s+/g).forEach(function(a){(b===t?!h.hasClass(a):b)?h.addClass(a):h.removeClass(a)})})},scrollTop:function(a){if(this.length){var b="scrollTop"in this[0];return a===t?b?this[0].scrollTop:this[0].pageYOffset:this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},scrollLeft:function(a){if(this.length){var b="scrollLeft"in this[0];return a===
t?b?this[0].scrollLeft:this[0].pageXOffset:this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),h=O.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(e(a).css("margin-top"))||0;c.left-=parseFloat(e(a).css("margin-left"))||0;h.top+=parseFloat(e(b[0]).css("border-top-width"))||0;h.left+=parseFloat(e(b[0]).css("border-left-width"))||0;return{top:c.top-h.top,left:c.left-
h.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||x.body;a&&!O.test(a.nodeName)&&"static"==e(a).css("position");)a=a.offsetParent;return a})}};e.fn.detach=e.fn.remove;["width","height"].forEach(function(a){var b=a.replace(/./,function(a){return a[0].toUpperCase()});e.fn[a]=function(c){var h,d=this[0];return c===t?f(d)?d["inner"+b]:m(d)?d.documentElement["scroll"+b]:(h=this.offset())&&h[a]:this.each(function(b){d=e(this);d.css(a,p(this,c,b,d[a]()))})}});["after",
"prepend","before","append"].forEach(function(b,c){var h=c%2;e.fn[b]=function(){var b,d=e.map(arguments,function(c){b=a(c);return"object"==b||"array"==b||null==c?c:y.fragment(c)}),s,g=1<this.length;return 1>d.length?this:this.each(function(a,b){s=h?b:b.parentNode;b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null;var D=e.contains(x.documentElement,s);d.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!s)return e(a).remove();s.insertBefore(a,b);D&&u(a,function(a){null!=a.nodeName&&"SCRIPT"===a.nodeName.toUpperCase()&&
((!a.type||"text/javascript"===a.type)&&!a.src)&&window.eval.call(window,a.innerHTML)})})})};e.fn[h?b+"To":"insert"+(c?"Before":"After")]=function(a){e(a)[b](this);return this}});y.Z.prototype=e.fn;y.uniq=L;y.deserializeValue=B;e.zepto=y;return e}();window.Zepto=Zepto;void 0===window.$&&(window.$=Zepto);
(function(a){"__proto__"in{}||a.extend(a.zepto,{Z:function(d,f){d=d||[];a.extend(d,a.fn);d.selector=f||"";d.__Z=!0;return d},isZ:function(d){return"array"===a.type(d)&&"__Z"in d}});try{getComputedStyle(void 0)}catch(d){var f=getComputedStyle;window.getComputedStyle=function(a){try{return f(a)}catch(d){return null}}}})(Zepto);
(function(a){function d(b){b=a(b);return!(!b.width()&&!b.height())&&"none"!==b.css("display")}function f(a,b){a=a.replace(/=#\]/g,'="#"]');var c,d,f=k.exec(a);f&&f[2]in q&&(c=q[f[2]],d=f[3],a=f[1],d&&(f=Number(d),d=isNaN(f)?d.replace(/^["']|["']$/g,""):f));return b(a,c,d)}var m=a.zepto,r=m.qsa,c=m.matches,q=a.expr[":"]={visible:function(){if(d(this))return this},hidden:function(){if(!d(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},
parent:function(){return this.parentNode},first:function(a){if(0===a)return this},last:function(a,b){if(a===b.length-1)return this},eq:function(a,b,c){if(a===c)return this},contains:function(b,c,d){if(-1<a(this).text().indexOf(d))return this},has:function(a,b,c){if(m.qsa(this,c).length)return this}},k=/(.*):(\w+)(?:\(([^)]+)\))?$\s*/,w=/^\s*>/,b="Zepto"+ +new Date;m.qsa=function(c,d){return f(d,function(f,k,q){try{var u;!f&&k?f="*":w.test(f)&&(u=a(c).addClass(b),f="."+b+" "+f);var t=r(c,f)}catch(n){throw console.error("error performing selector: %o",
d),n;}finally{u&&u.removeClass(b)}return!k?t:m.uniq(a.map(t,function(a,b){return k.call(a,b,t,q)}))})};m.matches=function(a,b){return f(b,function(b,d,f){return(!b||c(a,b))&&(!d||d.call(a,null,f)===a)})}})(Zepto);
(function(a){a.fn.end=function(){return this.prevObject||a()};a.fn.andSelf=function(){return this.add(this.prevObject||a())};"filter add not eq first last find closest parents parent children siblings".split(" ").forEach(function(d){var f=a.fn[d];a.fn[d]=function(){var a=f.apply(this,arguments);a.prevObject=this;return a}})})(Zepto);
(function(a){function d(a){return a._zid||(a._zid=w++)}function f(a,b,c,s){b=m(b);if(b.ns)var g=RegExp("(?:^| )"+b.ns.replace(" "," .* ?")+"(?: |$)");return(z[d(a)]||[]).filter(function(a){return a&&(!b.e||a.e==b.e)&&(!b.ns||g.test(a.ns))&&(!c||d(a.fn)===d(c))&&(!s||a.sel==s)})}function m(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function r(c,g,h,s,f,e,k){var l=d(c),p=z[l]||(z[l]=[]);g.split(/\s/).forEach(function(d){if("ready"==d)return a(document).ready(h);var g=m(d);
g.fn=h;g.sel=f;g.e in n&&(h=function(b){var c=b.relatedTarget;if(!c||c!==this&&!a.contains(this,c))return g.fn.apply(this,arguments)});var x=(g.del=e)||h;g.proxy=function(a){a=q(a);if(!a.isImmediatePropagationStopped()){a.data=s;var h=x.apply(c,a._args==b?[a]:[a].concat(a._args));!1===h&&(a.preventDefault(),a.stopPropagation());return h}};g.i=p.length;p.push(g);"addEventListener"in c&&c.addEventListener(n[g.e]||u&&t[g.e]||g.e,g.proxy,g.del&&!u&&g.e in t||!!k)})}function c(a,b,c,s,g){var e=d(a);(b||
"").split(/\s/).forEach(function(b){f(a,b,c,s).forEach(function(b){delete z[e][b.i];"removeEventListener"in a&&a.removeEventListener(n[b.e]||u&&t[b.e]||b.e,b.proxy,b.del&&!u&&b.e in t||!!g)})})}function q(c,d){if(d||!c.isDefaultPrevented)if(d||(d=c),a.each(C,function(a,b){var g=d[a];c[a]=function(){this[b]=e;return g&&g.apply(d,arguments)};c[b]=E}),d.defaultPrevented!==b?d.defaultPrevented:"returnValue"in d?!1===d.returnValue:d.getPreventDefault&&d.getPreventDefault())c.isDefaultPrevented=e;return c}
function k(a){var c,d={originalEvent:a};for(c in a)!A.test(c)&&a[c]!==b&&(d[c]=a[c]);return q(d,a)}var w=1,b,g=Array.prototype.slice,l=a.isFunction,p=function(a){return"string"==typeof a},z={},B={},u="onfocusin"in window,t={focus:"focusin",blur:"focusout"},n={mouseenter:"mouseover",mouseleave:"mouseout"};B.click=B.mousedown=B.mouseup=B.mousemove="MouseEvents";a.event={add:r,remove:c};a.proxy=function(b,c){var h=2 in arguments&&g.call(arguments,2);if(l(b)){var s=function(){return b.apply(c,h?h.concat(g.call(arguments)):
arguments)};s._zid=d(b);return s}if(p(c))return h?(h.unshift(b[c],b),a.proxy.apply(null,h)):a.proxy(b[c],b);throw new TypeError("expected function");};a.fn.bind=function(a,b,c){return this.on(a,b,c)};a.fn.unbind=function(a,b){return this.off(a,b)};a.fn.one=function(a,b,c,d){return this.on(a,b,c,d,1)};var e=function(){return!0},E=function(){return!1},A=/^([A-Z]|returnValue$|layer[XY]$)/,C={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};
a.fn.delegate=function(a,b,c){return this.on(b,a,c)};a.fn.undelegate=function(a,b,c){return this.off(b,a,c)};a.fn.live=function(b,c){a(document.body).delegate(this.selector,b,c);return this};a.fn.die=function(b,c){a(document.body).undelegate(this.selector,b,c);return this};a.fn.on=function(d,e,h,s,f){var n,m,q=this;if(d&&!p(d))return a.each(d,function(a,b){q.on(a,e,h,b,f)}),q;!p(e)&&!l(s)&&!1!==s&&(s=h,h=e,e=b);if(l(h)||!1===h)s=h,h=b;!1===s&&(s=E);return q.each(function(b,l){f&&(n=function(a){c(l,
a.type,s);return s.apply(this,arguments)});e&&(m=function(b){var c,d=a(b.target).closest(e,l).get(0);if(d&&d!==l)return c=a.extend(k(b),{currentTarget:d,liveFired:l}),(n||s).apply(d,[c].concat(g.call(arguments,1)))});r(l,d,s,h,e,m||n)})};a.fn.off=function(d,g,h){var s=this;if(d&&!p(d))return a.each(d,function(a,b){s.off(a,g,b)}),s;!p(g)&&!l(h)&&!1!==h&&(h=g,g=b);!1===h&&(h=E);return s.each(function(){c(this,d,h,g)})};a.fn.trigger=function(b,c){b=p(b)||a.isPlainObject(b)?a.Event(b):q(b);b._args=c;
return this.each(function(){"dispatchEvent"in this?this.dispatchEvent(b):a(this).triggerHandler(b,c)})};a.fn.triggerHandler=function(b,c){var d,g;this.each(function(e,n){d=k(p(b)?a.Event(b):b);d._args=c;d.target=n;a.each(f(n,b.type||b),function(a,b){g=b.proxy(d);if(d.isImmediatePropagationStopped())return!1})});return g};"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=
function(a){return a?this.bind(b,a):this.trigger(b)}});["focus","blur"].forEach(function(b){a.fn[b]=function(a){a?this.bind(b,a):this.each(function(){try{this[b]()}catch(a){}});return this}});a.Event=function(a,b){p(a)||(b=a,a=b.type);var c=document.createEvent(B[a]||"Events"),d=!0;if(b)for(var g in b)"bubbles"==g?d=!!b[g]:c[g]=b[g];c.initEvent(a,d,!0);return q(c)}})(Zepto);
(function(a){function d(b,d){var l=b[k],l=l&&r[l];if(void 0===d)return l||f(b);if(l){if(d in l)return l[d];var p=q(d);if(p in l)return l[p]}return c.call(a(b),d)}function f(b,c,d){var f=b[k]||(b[k]=++a.uuid);b=r[f]||(r[f]=m(b));void 0!==c&&(b[q(c)]=d);return b}function m(b){var c={};a.each(b.attributes||w,function(b,d){0==d.name.indexOf("data-")&&(c[q(d.name.replace("data-",""))]=a.zepto.deserializeValue(d.value))});return c}var r={},c=a.fn.data,q=a.camelCase,k=a.expando="Zepto"+ +new Date,w=[];a.fn.data=
function(b,c){return void 0===c?a.isPlainObject(b)?this.each(function(c,d){a.each(b,function(a,b){f(d,a,b)})}):0 in this?d(this[0],b):void 0:this.each(function(){f(this,b,c)})};a.fn.removeData=function(b){"string"==typeof b&&(b=b.split(/\s+/));return this.each(function(){var c=this[k],d=c&&r[c];d&&a.each(b||d,function(a){delete d[b?q(this):a]})})};["remove","empty"].forEach(function(b){var c=a.fn[b];a.fn[b]=function(){var a=this.find("*");"remove"===b&&(a=a.add(this));a.removeData();return c.call(this)}})})(Zepto);
(function(a){function d(b,c,d,g){if(b.global)return b=c||B,d=a.Event(d),a(b).trigger(d,g),!d.isDefaultPrevented()}function f(b){b.global&&0===a.active++&&d(b,null,"ajaxStart")}function m(a,b){var c=b.context;if(!1===b.beforeSend.call(c,a,b)||!1===d(b,c,"ajaxBeforeSend",[a,b]))return!1;d(b,c,"ajaxSend",[a,b])}function r(a,b,c,g){var e=c.context;c.success.call(e,a,"success",b);g&&g.resolveWith(e,[a,"success",b]);d(c,e,"ajaxSuccess",[b,c,a]);q("success",b,c)}function c(a,b,c,g,e){var f=g.context;g.error.call(f,
c,b,a);e&&e.rejectWith(f,[c,b,a]);d(g,f,"ajaxError",[c,g,a||b]);q(b,c,g)}function q(b,c,g){var e=g.context;g.complete.call(e,c,b);d(g,e,"ajaxComplete",[c,g]);g.global&&!--a.active&&d(g,null,"ajaxStop")}function k(){}function w(a){a&&(a=a.split(";",2)[0]);return a&&(a==C?"html":a==A?"json":e.test(a)?"script":E.test(a)&&"xml")||"text"}function b(a,b){return""==b?a:(a+"&"+b).replace(/[&?]{1,2}/,"?")}function g(c){c.processData&&c.data&&"string"!=a.type(c.data)&&(c.data=a.param(c.data,c.traditional));
if(c.data&&(!c.type||"GET"==c.type.toUpperCase()))c.url=b(c.url,c.data),c.data=void 0}function l(b,c,d,g){a.isFunction(c)&&(g=d,d=c,c=void 0);a.isFunction(d)||(g=d,d=void 0);return{url:b,data:c,success:d,dataType:g}}function p(b,c,d,g){var e,f=a.isArray(c),k=a.isPlainObject(c);a.each(c,function(c,s){e=a.type(s);g&&(c=d?g:g+"["+(k||"object"==e||"array"==e?c:"")+"]");!g&&f?b.add(s.name,s.value):"array"==e||!d&&"object"==e?p(b,s,d,c):b.add(c,s)})}var z=0,B=window.document,u,t,n=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
e=/^(?:text|application)\/javascript/i,E=/^(?:text|application)\/xml/i,A="application/json",C="text/html",D=/^\s*$/;a.active=0;a.ajaxJSONP=function(b,d){if(!("type"in b))return a.ajax(b);var g=b.jsonpCallback,e=(a.isFunction(g)?g():g)||"jsonp"+ ++z,f=B.createElement("script"),k=window[e],n,l=function(b){a(f).triggerHandler("error",b||"abort")},p={abort:l},q;d&&d.promise(p);a(f).on("load error",function(g,l){clearTimeout(q);a(f).off().remove();"error"==g.type||!n?c(null,l||"error",p,b,d):r(n[0],p,
b,d);window[e]=k;n&&a.isFunction(k)&&k(n[0]);k=n=void 0});if(!1===m(p,b))return l("abort"),p;window[e]=function(){n=arguments};f.src=b.url.replace(/\?(.+)=\?/,"?$1="+e);B.head.appendChild(f);0<b.timeout&&(q=setTimeout(function(){l("timeout")},b.timeout));return p};a.ajaxSettings={type:"GET",beforeSend:k,success:k,error:k,complete:k,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:A,xml:"application/xml, text/xml",
html:C,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0};a.ajax=function(d){var e=a.extend({},d||{}),n=a.Deferred&&a.Deferred();for(u in a.ajaxSettings)void 0===e[u]&&(e[u]=a.ajaxSettings[u]);f(e);e.crossDomain||(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!=window.location.host);e.url||(e.url=window.location.toString());g(e);var l=e.dataType,p=/\?.+=\?/.test(e.url);p&&(l="jsonp");if(!1===e.cache||(!d||!0!==d.cache)&&("script"==l||"jsonp"==l))e.url=b(e.url,"_="+
Date.now());if("jsonp"==l)return p||(e.url=b(e.url,e.jsonp?e.jsonp+"=?":!1===e.jsonp?"":"callback=?")),a.ajaxJSONP(e,n);d=e.accepts[l];var q={},p=function(a,b){q[a.toLowerCase()]=[a,b]},A=/^([\w-]+:)\/\//.test(e.url)?RegExp.$1:window.location.protocol,v=e.xhr(),x=v.setRequestHeader,z;n&&n.promise(v);e.crossDomain||p("X-Requested-With","XMLHttpRequest");p("Accept",d||"*/*");if(d=e.mimeType||d)-1<d.indexOf(",")&&(d=d.split(",",2)[0]),v.overrideMimeType&&v.overrideMimeType(d);if(e.contentType||!1!==
e.contentType&&e.data&&"GET"!=e.type.toUpperCase())p("Content-Type",e.contentType||"application/x-www-form-urlencoded");if(e.headers)for(t in e.headers)p(t,e.headers[t]);v.setRequestHeader=p;v.onreadystatechange=function(){if(4==v.readyState){v.onreadystatechange=k;clearTimeout(z);var b,d=!1;if(200<=v.status&&300>v.status||304==v.status||0==v.status&&"file:"==A){l=l||w(e.mimeType||v.getResponseHeader("content-type"));b=v.responseText;try{"script"==l?(0,eval)(b):"xml"==l?b=v.responseXML:"json"==l&&
(b=D.test(b)?null:a.parseJSON(b))}catch(g){d=g}d?c(d,"parsererror",v,e,n):r(b,v,e,n)}else c(v.statusText||null,v.status?"error":"abort",v,e,n)}};if(!1===m(v,e))return v.abort(),c(null,"abort",v,e,n),v;if(e.xhrFields)for(t in e.xhrFields)v[t]=e.xhrFields[t];v.open(e.type,e.url,"async"in e?e.async:!0,e.username,e.password);for(t in q)x.apply(v,q[t]);0<e.timeout&&(z=setTimeout(function(){v.onreadystatechange=k;v.abort();c(null,"timeout",v,e,n)},e.timeout));v.send(e.data?e.data:null);return v};a.get=
function(){return a.ajax(l.apply(null,arguments))};a.post=function(){var b=l.apply(null,arguments);b.type="POST";return a.ajax(b)};a.getJSON=function(){var b=l.apply(null,arguments);b.dataType="json";return a.ajax(b)};a.fn.load=function(b,c,d){if(!this.length)return this;var e=this,g=b.split(/\s/),f;b=l(b,c,d);var k=b.success;1<g.length&&(b.url=g[0],f=g[1]);b.success=function(b){e.html(f?a("<div>").html(b.replace(n,"")).find(f):b);k&&k.apply(e,arguments)};a.ajax(b);return this};var x=encodeURIComponent;
a.param=function(a,b){var c=[];c.add=function(a,b){this.push(x(a)+"="+x(b))};p(c,a,b);return c.join("&").replace(/%20/g,"+")}})(Zepto);
(function(a){a.fn.serializeArray=function(){var d,f,m=[];a([].slice.call(this.get(0).elements)).each(function(){d=a(this);f=d.attr("type");this.name&&"fieldset"!=this.nodeName.toLowerCase()&&(!this.disabled&&"submit"!=f&&"reset"!=f&&"button"!=f&&("radio"!=f&&"checkbox"!=f||this.checked))&&m.push({name:d.attr("name"),value:d.val()})});return m};a.fn.serialize=function(){var a=[];this.serializeArray().forEach(function(f){a.push(encodeURIComponent(f.name)+"="+encodeURIComponent(f.value))});return a.join("&")};
a.fn.submit=function(d){d?this.bind("submit",d):this.length&&(d=a.Event("submit"),this.eq(0).trigger(d),d.isDefaultPrevented()||this.get(0).submit());return this}})(Zepto);
(function(a,d){var f="",m,r=window.document.createElement("div"),c=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,q,k,w,b,g,l,p,z,B,u={};a.each({Webkit:"webkit",Moz:"",O:"o"},function(a,b){if(r.style[a+"TransitionProperty"]!==d)return f="-"+a.toLowerCase()+"-",m=b,!1});q=f+"transform";u[k=f+"transition-property"]=u[w=f+"transition-duration"]=u[g=f+"transition-delay"]=u[b=f+"transition-timing-function"]=u[l=f+"animation-name"]=u[p=f+"animation-duration"]=u[B=f+"animation-delay"]=
u[z=f+"animation-timing-function"]="";a.fx={off:m===d&&r.style.transitionProperty===d,speeds:{_default:400,fast:200,slow:600},cssPrefix:f,transitionEnd:m?m+"TransitionEnd":"transitionend",animationEnd:m?m+"AnimationEnd":"animationend"};a.fn.animate=function(b,c,e,g,f){a.isFunction(c)&&(g=c,c=e=d);a.isFunction(e)&&(g=e,e=d);a.isPlainObject(c)&&(e=c.easing,g=c.complete,f=c.delay,c=c.duration);c&&(c=("number"==typeof c?c:a.fx.speeds[c]||a.fx.speeds._default)/1E3);f&&(f=parseFloat(f)/1E3);return this.anim(b,
c,e,g,f)};a.fn.anim=function(f,n,e,m,r){var C,D={},x,h="",s=this,G,H=a.fx.transitionEnd,J=!1;n===d&&(n=a.fx.speeds._default/1E3);r===d&&(r=0);a.fx.off&&(n=0);if("string"==typeof f)D[l]=f,D[p]=n+"s",D[B]=r+"s",D[z]=e||"linear",H=a.fx.animationEnd;else{x=[];for(C in f)c.test(C)?h+=C+"("+f[C]+") ":(D[C]=f[C],x.push(C.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()));h&&(D[q]=h,x.push(q));0<n&&"object"===typeof f&&(D[k]=x.join(", "),D[w]=n+"s",D[g]=r+"s",D[b]=e||"linear")}G=function(b){if("undefined"!==
typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(H,G)}else a(this).unbind(H,G);J=!0;a(this).css(u);m&&m.call(this)};0<n&&(this.bind(H,G),setTimeout(function(){J||G.call(s)},1E3*n+25));this.size()&&this.get(0).clientLeft;this.css(D);0>=n&&setTimeout(function(){s.each(function(){G.call(this)})},0);return this};r=null})(Zepto);
(function(a,d){function f(c,f,b,g,l){"function"==typeof f&&!l&&(l=f,f=d);b={opacity:b};g&&(b.scale=g,c.css(a.fx.cssPrefix+"transform-origin","0 0"));return c.animate(b,f,null,l)}function m(d,m,b,g){return f(d,m,0,b,function(){c.call(a(this));g&&g.call(this)})}var r=a.fn.show,c=a.fn.hide,q=a.fn.toggle;a.fn.show=function(a,c){r.call(this);a===d?a=0:this.css("opacity",0);return f(this,a,1,"1,1",c)};a.fn.hide=function(a,f){return a===d?c.call(this):m(this,a,"0,0",f)};a.fn.toggle=function(c,f){return c===
d||"boolean"==typeof c?q.call(this,c):this.each(function(){var b=a(this);b["none"==b.css("display")?"show":"hide"](c,f)})};a.fn.fadeTo=function(a,c,b){return f(this,a,c,null,b)};a.fn.fadeIn=function(a,c){var b=this.css("opacity");0<b?this.css("opacity",0):b=1;return r.call(this).fadeTo(a,b,c)};a.fn.fadeOut=function(a,c){return m(this,a,null,c)};a.fn.fadeToggle=function(c,d){return this.each(function(){var b=a(this);b[0==b.css("opacity")||"none"==b.css("display")?"fadeIn":"fadeOut"](c,d)})}})(Zepto);
(function(a){function d(){b=null;c.last&&(c.el.trigger("longTap"),c={})}function f(){q&&clearTimeout(q);k&&clearTimeout(k);w&&clearTimeout(w);b&&clearTimeout(b);q=k=w=b=null;c={}}function m(a){return("touch"==a.pointerType||a.pointerType==a.MSPOINTER_TYPE_TOUCH)&&a.isPrimary}function r(a,b){return a.type=="pointer"+b||a.type.toLowerCase()=="mspointer"+b}var c={},q,k,w,b,g;a(document).ready(function(){var l,p,z=0,B=0,u,t;"MSGesture"in window&&(g=new MSGesture,g.target=document.body);a(document).bind("MSGestureEnd",
function(a){if(a=1<a.velocityX?"Right":-1>a.velocityX?"Left":1<a.velocityY?"Down":-1>a.velocityY?"Up":null)c.el.trigger("swipe"),c.el.trigger("swipe"+a)}).on("touchstart MSPointerDown pointerdown",function(f){if(!(t=r(f,"down"))||m(f))u=t?f:f.touches[0],f.touches&&1===f.touches.length&&c.x2&&(c.x2=void 0,c.y2=void 0),l=Date.now(),p=l-(c.last||l),c.el=a("tagName"in u.target?u.target:u.target.parentNode),q&&clearTimeout(q),c.x1=u.pageX,c.y1=u.pageY,0<p&&250>=p&&(c.isDoubleTap=!0),c.last=l,b=setTimeout(d,
750),g&&t&&g.addPointer(f.pointerId)}).on("touchmove MSPointerMove pointermove",function(a){if(!(t=r(a,"move"))||m(a))u=t?a:a.touches[0],b&&clearTimeout(b),b=null,c.x2=u.pageX,c.y2=u.pageY,z+=Math.abs(c.x1-c.x2),B+=Math.abs(c.y1-c.y2)}).on("touchend MSPointerUp pointerup",function(d){if(!(t=r(d,"up"))||m(d))b&&clearTimeout(b),b=null,c.x2&&30<Math.abs(c.x1-c.x2)||c.y2&&30<Math.abs(c.y1-c.y2)?w=setTimeout(function(){c.el.trigger("swipe");c.el.trigger("swipe"+(Math.abs(c.x1-c.x2)>=Math.abs(c.y1-c.y2)?
0<c.x1-c.x2?"Left":"Right":0<c.y1-c.y2?"Up":"Down"));c={}},0):"last"in c&&(30>z&&30>B?k=setTimeout(function(){var b=a.Event("tap");b.cancelTouch=f;c.el.trigger(b);c.isDoubleTap?(c.el&&c.el.trigger("doubleTap"),c={}):q=setTimeout(function(){q=null;c.el&&c.el.trigger("singleTap");c={}},250)},0):c={}),z=B=0}).on("touchcancel MSPointerCancel pointercancel",f);a(window).on("scroll",f)});"swipe swipeLeft swipeRight swipeUp swipeDown doubleTap tap singleTap longTap".split(" ").forEach(function(b){a.fn[b]=
function(a){return this.on(b,a)}})})(Zepto);(function(a,d){var f=window.KingSoft=window.K||{},m=document.createElement("div").style,r={};window.K=f;f.supports=f.supports||r;var c=f.camelCase=function(a){return a.replace(/^-ms-/,"ms-").replace(/-([a-z]|[0-9])/ig,function(a,b){return(b+"").toUpperCase()})};f.uncamelCase=function(a){return a.replace(/([A-Z]|^ms)/g,"-$1").toLowerCase()};var q=f.cssVendor=function(){var a=["-webkit-","-moz-",""],d=0;do if(c(a[d]+"transform")in m)return a[d];while(++d<a.length);return""}();f.transitionend={"-webkit-":"webkitTransitionEnd",
"-moz-":"transitionend","":"transitionend"}[q];var k=f.isCSS=function(a){var d=c(a);a=c(q+a);return d in m&&d||a in m&&a||""};f.isArrayLike=function(a){var c=f.type(a);return!!a&&"function"!=c&&"string"!=c&&(0===a.length||a.length&&a.length-1 in a)};var w=f.type=function(){for(var a="Boolean Number String Function Array Date RegExp Object Error Undefined Null".split(" "),c=0,d={};c<a.length;)f["is"+a[c]]=function(){var d=a[c].toLowerCase();return function(a){return w(a)===d}}(),d["[object "+a[c]+
"]"]=a[c++].toLowerCase();return function(a){return null==a?String(a):"object"==typeof a?d[d.toString.call(a)]||"object":typeof a}}();f.getQueryValue=function(a){return(a=decodeURIComponent(location.search).match(RegExp(a+"=([^&]*)")))&&a[1]||""};f.getAbsUrl=function(a){var c=document.createElement("a");c.href=a;return/^http/i.test(c.href)?c.href:c.getAttribute("href",4)};a.each("transform transition animation perspective border-image border-radius box-shadow background-size background-clip text-shadow min-height opacity".split(" "),
function(a,d){r[c(d)]=!!k(d)});r.touch="createTouch"in document||"ontouchstart"in window;r.canvas="function"==typeof document.createElement("canvas").getContext;r.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;f.transform=k("transform");f.transition=k("transition");f.animation=k("animation");f.EVENTS="PointerEvent"in window?"pointerdown pointermove pointerup pointercancel":r.touch?"touchstart touchmove touchend touchcancel":"mousedown mousemove mouseup";
r.touch||a(document).click(function(b){var c=a.Event("tap");a(b.target||b.srcElement).trigger(c)});f.Panel=createClass(function(){this.zIndex=this.constructor.prototype.zIndex++;this.mask=a('<div class="Mask" style="z-index:'+this.zIndex+';"></div>');this.frame=a('<div class="Panel" style="z-index:'+this.zIndex+';"></div>')},{zIndex:100,setContent:function(a){this.frame.html(a);return this},show:function(b){a.contains(document.body,this.frame[0])||(this.mask.appendTo("body"),this.frame.appendTo("body"));
this.frame.fadeIn(400,b);this.mask.fadeIn(400);return this},hide:function(a){this.frame.fadeOut(400,a);this.mask.fadeOut(400);return this},destroy:function(a){this.hide(function(){this.frame.remove();this.mask.remove();a&&a()}.bind(this))}});a.ajaxSettings.cache=!1;a.ajaxSettings.dataType="json";a.ajaxSettings.type="POST";f.alert=function(a){var c=f.Panel().setContent('<a class="close"></a><div class="text">'+a+"</div>");c.frame.addClass("syswin").find(".close").tap(function(){c.destroy()});c.show()}})(Zepto);
